<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Minimal SIDCF</title>
  <style>
    body { font-family: system-ui; padding: 20px; }
    .test { margin: 10px 0; padding: 10px; border-left: 3px solid #ccc; }
    .ok { border-color: green; background: #d1fae5; }
    .fail { border-color: red; background: #fee2e2; }
  </style>
</head>
<body>
  <h1>üîç Test de Boot SIDCF</h1>
  <div id="results"></div>

  <script type="module">
    const results = document.getElementById('results');

    function log(message, isOk = true) {
      const div = document.createElement('div');
      div.className = `test ${isOk ? 'ok' : 'fail'}`;
      div.textContent = (isOk ? '‚úÖ ' : '‚ùå ') + message;
      results.appendChild(div);
    }

    // Test 1: DOM ready
    log('DOM charg√©', true);

    // Test 2: Imports
    try {
      const logger = await import('./js/lib/logger.js');
      log('Import logger.js OK', true);

      const { mount } = await import('./js/lib/dom.js');
      log('Import dom.js OK', true);

      const dataService = (await import('./js/datastore/data-service.js')).default;
      log('Import data-service.js OK', true);

      // Test 3: Init DataService
      try {
        await dataService.init();
        log('DataService.init() OK', true);
      } catch (error) {
        log(`DataService.init() FAIL: ${error.message}`, false);
        console.error('DataService error:', error);
      }

      // Test 4: Router
      const router = (await import('./js/router.js')).default;
      log('Import router.js OK', true);

    } catch (error) {
      log(`Import FAIL: ${error.message}`, false);
      console.error('Import error:', error);
    }
  </script>
</body>
</html>
